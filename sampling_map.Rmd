---
title:
output: html_document
---


```{r,  echo = FALSE, message=FALSE, warning=FALSE, fig.width=10, fig.height=7}
library(leaflet)
library(rgdal)
library(dataRetrieval)
# grp <- c("USGS Topo", "USGS Imagery Only", "USGS Imagery Topo",
#          "USGS Shaded Relief", "Hydrography")
# 
# att <- paste0("<a href='https://www.usgs.gov/'>",
#               "U.S. Geological Survey</a> | ",
#               "<a href='https://www.usgs.gov/laws/policies_notices.html'>",
#               "Policies</a>")
# GetURL <- function(service, host = "basemap.nationalmap.gov") {
#   sprintf("https://%s/arcgis/services/%s/MapServer/WmsServer", host, service)
# }
sites <- read.csv("~/Documents/website/sampling_sites.csv")
# create specific icon for every type of point
icon.cisco <- makeAwesomeIcon(icon= 'ship', markerColor = 'blue', iconColor = 'black')
icon.Ruellia <- makeAwesomeIcon(icon = 'ship', markerColor = 'red', iconColor = 'black')
icon.Desmodium <- makeAwesomeIcon(icon = 'ship', markerColor = 'green', iconColor = 'black')
icon.Cuphea <- makeAwesomeIcon(icon = 'ship', markerColor = 'orange', iconColor = 'black')
icon.Phytolacca <- makeAwesomeIcon(icon = 'ship', markerColor = 'cadetblue', iconColor = 'black')
icon.sturgeon <- makeAwesomeIcon(icon = 'ship', markerColor = 'yellow', iconColor = 'black')
icon.Powelliphanta <- makeAwesomeIcon(icon = 'ship', markerColor = 'purple', iconColor = 'black')
icon.deepSculpin <- makeAwesomeIcon(icon = 'ship', markerColor = 'gold', iconColor = 'black')
icon.spoonhead <- makeAwesomeIcon(icon = 'ship', markerColor = 'teal', iconColor = 'black')
icon.kiyi <- makeAwesomeIcon(icon = 'ship', markerColor = 'black', iconColor = 'black')
icon.siscowet <- makeAwesomeIcon(icon = 'ship', markerColor = 'pink', iconColor = 'black')

leaflet() %>% 
  addTiles() %>%
  addAwesomeMarkers(data = sites[sites$species == "cisco",], 
                    group = "cisco", 
                    icon = icon.cisco, 
                    label = ~as.character(species), 
                    clusterOptions = markerClusterOptions(),
                    popup= "") %>%
                    #popup= paste(sep = "<br/>","Euclide et al. in prep", "Chen et al. in prep")) %>%
  addAwesomeMarkers(data = sites[sites$species == "Ruellia caroliniensis",], 
                    group = "Ruellia caroliniensis", 
                    icon = icon.Ruellia, 
                    label = ~as.character(species), 
                    clusterOptions = markerClusterOptions(),
                    popup= "") %>%
  
  addAwesomeMarkers(data = sites[sites$species == "Cuphea viscosissima",], 
                    group = "Cuphea viscosissima", 
                    icon = icon.Cuphea, 
                    label = ~as.character(species), 
                    clusterOptions = markerClusterOptions(),
                    popup= "") %>%
  
  addAwesomeMarkers(data = sites[sites$species == "Phytolacca americana",], 
                    group = "Phytolacca americana", 
                    icon = icon.Phytolacca, 
                    label = ~as.character(species), 
                    clusterOptions = markerClusterOptions(),
                    popup= "") %>%
  
  addAwesomeMarkers(data = sites[sites$species == "Desmodium paniculatum",], 
                    group = "Desmodium paniculatum", 
                    icon = icon.Desmodium, 
                    label = ~as.character(species), 
                    clusterOptions = markerClusterOptions(),
                    popup= "") %>%
  
  addAwesomeMarkers(data = sites[sites$species == "lake sturgeon",], 
                    group = "lake sturgeon",
                    icon = icon.sturgeon,
                    label = ~as.character(species), 
                    clusterOptions = markerClusterOptions(),
                    popup="") %>%
  
  addAwesomeMarkers(data = sites[sites$species == "Powelliphanta",], 
                    group = "Powelliphanta",
                    icon = icon.Powelliphanta,
                    label = ~as.character(species), 
                    clusterOptions = markerClusterOptions(),
                    popup="") %>%
  
  
  addAwesomeMarkers(data = sites[sites$species == "deep water scuplin",], 
                    group = "deep water scuplin",
                    icon = icon.deepSculpin,
                    label = ~as.character(species), 
                    clusterOptions = markerClusterOptions(),
                    popup="") %>%
   
  addAwesomeMarkers(data = sites[sites$species == "spoon head scuplin",], 
                   group = "spoon head scuplin", 
                   icon = icon.spoonhead, 
                   label = ~as.character(species), 
                   clusterOptions = markerClusterOptions(),
                   popup= "") %>%
  
  addAwesomeMarkers(data = sites[sites$species == "kiyi",], 
                   group = "kiyi",
                   icon = icon.kiyi,
                   label = ~as.character(species), 
                   clusterOptions = markerClusterOptions(),
                   popup="") %>%
  addAwesomeMarkers(data = sites[sites$species == "siscowet",], 
                   group = "siscowet",
                   icon = icon.siscowet,
                   label = ~as.character(species), 
                   clusterOptions = markerClusterOptions(),
                   popup="") %>%
  addLayersControl(
    overlayGroups = c("cisco", "Ruellia caroliniensis", "Cuphea viscosissima", "Desmodium paniculatum", "Phytolacca americana", "lake sturgeon", "Powelliphanta", "deep water sculpin", "spoon head sculpin", "kiyi", "siscowet"),
    options = layersControlOptions(collapsed = FALSE), position = "topleft"
  )
 
 
 
 
```